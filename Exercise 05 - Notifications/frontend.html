<div class="container">
    <h1>Send Notifications</h1>

    <form class="form" action="" method="POST" id="emailForm">
        <div class="form-group">
            <label>Email To</label>
            <input type="text" class="form-control" name="email_to" id="email_to" required="required" />
        </div>

        <div class="form-group">
            <label>Email Subject</label>
            <input type="text" class="form-control" name="email_subject" id="email_subject" required="required" />
        </div>

        <div class="form-group">
            <label>Email Content</label>
            <textarea class="form-control" name="email_content" id="email_content" required="required"></textarea>
        </div>

        <input class="btn btn-secondary" type="submit" value="Send Email" />
    </form>
</div>

<script>
    var serversidePage = "serverside.js";

    var callback = function(response) {
        if(!response.result) {
            console.log("Something went wrong.");
            return;
        }

        $("#emailForm")[0].reset();
        alert('Successfully sent email!');

    };

    $(document).on('submit', '#emailForm', function(event) {
        event.preventDefault();

        var to = $("#email_to").val();
        var subject = $("#email_subject").val();
        var content = $("#email_content").val();

        serverside(serversidePage, {
            email_to: to,
            email_subject: subject,
            email_content: content
        }, callback);
    });


</script>
